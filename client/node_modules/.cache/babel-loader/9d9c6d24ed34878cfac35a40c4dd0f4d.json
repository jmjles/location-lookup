{"ast":null,"code":"import GoogleMapsLoader from \"google-maps\";\nimport url from \"./URLS\";\n\nconst axios = require(\"axios\");\n\nexport const GetLocation = async () => {\n  const area = document.getElementById(\"Search\");\n  console.log(area); //* Google Api\n\n  let map = this.state.map;\n  let thetime;\n  let ftime;\n  let gkey = process.env.GOOGLE; //* Google Maps\n\n  GoogleMapsLoader.KEY = gkey;\n  GoogleMapsLoader.VERSION = \"3.39\";\n  await GoogleMapsLoader.load(google => {\n    let options = {\n      center: {\n        lat: 40,\n        lng: -100\n      },\n      scrollwheel: false,\n      zoom: 5\n    };\n    new google.maps.Map(document.getElementById(\"map\"), options);\n  }); //keys and urls\n\n  const googleKey = this.state.keys.google;\n  const timeKey = this.state.keys.time;\n  const newsKey = this.state.keys.news;\n  const weatherKey = this.state.keys.weather;\n  let res = await axios.get(apiURL.google, {\n    params: {\n      address: area,\n      key: googleKey\n    }\n  });\n  let data = res.data;\n  let name;\n  name = data.results[0].address_components[0].long_name;\n  const arealat = data.results[0].geometry.location.lat;\n  const arealing = data.results[0].geometry.location.lng;\n  let zoom;\n  data.results[0].types[0] === \"locality\" ? zoom = 10 : zoom = 5;\n  GoogleMapsLoader.load(function (google) {\n    map.setCenter(new google.maps.LatLng(arealat, arealing));\n    map.setZoom(zoom);\n  });\n};\n\nconst getTimes = async () => {\n  //* Time Api\n  const res = await axios.get(apiURL.time, {\n    params: {\n      format: \"json\",\n      by: \"position\",\n      lat: arealat,\n      lng: arealing,\n      key: timeKey\n    }\n  });\n  const data = res.data;\n  const thetime = data.formatted.split(\" \");\n  const ftime = thetime[1]; //Set Time\n  //this.setState({ time: ftime });\n};\n\nconst getNews = async () => {\n  //* News Api\n  try {\n    res = await axios.get(apiURL.news, {\n      params: {\n        q: name,\n        apiKey: newsKey,\n        pageSize: 6\n      }\n    });\n    let articles = res.data.articles;\n\n    if (articles.length < 0) {\n      alert(\"No News Found\");\n    } else {\n      articles.map(article => {\n        const date = article.publishedAt.split(\"T\");\n        return this.setState(prevState => ({\n          news: [...prevState.news, {\n            title: article.title,\n            url: article.url,\n            snippet: article.description,\n            img: article.urlToImage,\n            source: article.source.name,\n            published: date[0]\n          }]\n        }));\n      });\n    }\n  } catch (er) {\n    console.log(er);\n  }\n};\n\nconst getWeather = async () => {\n  try {\n    const res = await axios(url.weather, {\n      params: {\n        q: name,\n        units: \"imperial\",\n        appid: weatherKey\n      }\n    });\n    const data = res.data;\n    const name = data.name;\n    const weather = data.weather[0].main;\n    const temp = Math.ceil(data.main.temp);\n    const wind = data.wind.speed; //Set The State\n    //this.setState(() => ({ weather: { name, weather, temp, wind } }));\n  } catch (er) {\n    console.log(er);\n  }\n};","map":{"version":3,"sources":["/home/jmfatal/Documents/Websites/location-lookup/src/misc/GetLocation.js"],"names":["GoogleMapsLoader","url","axios","require","GetLocation","area","document","getElementById","console","log","map","state","thetime","ftime","gkey","process","env","GOOGLE","KEY","VERSION","load","google","options","center","lat","lng","scrollwheel","zoom","maps","Map","googleKey","keys","timeKey","time","newsKey","news","weatherKey","weather","res","get","apiURL","params","address","key","data","name","results","address_components","long_name","arealat","geometry","location","arealing","types","setCenter","LatLng","setZoom","getTimes","format","by","formatted","split","getNews","q","apiKey","pageSize","articles","length","alert","article","date","publishedAt","setState","prevState","title","snippet","description","img","urlToImage","source","published","er","getWeather","units","appid","main","temp","Math","ceil","wind","speed"],"mappings":"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","sourcesContent":["import GoogleMapsLoader from \"google-maps\";\nimport url from \"./URLS\";\nconst axios = require(\"axios\");\nexport const GetLocation = async () => {\n  const area = document.getElementById(\"Search\");\n  console.log(area);\n\n  //* Google Api\n  let map = this.state.map;\n  let thetime;\n  let ftime;\n\n  let gkey = process.env.GOOGLE;\n\n  //* Google Maps\n  GoogleMapsLoader.KEY = gkey;\n  GoogleMapsLoader.VERSION = \"3.39\";\n  await GoogleMapsLoader.load(google => {\n    let options = {\n      center: { lat: 40, lng: -100 },\n      scrollwheel: false,\n      zoom: 5\n    };\n    new google.maps.Map(document.getElementById(\"map\"), options)\n  });\n\n  //keys and urls\n  const googleKey = this.state.keys.google;\n  const timeKey = this.state.keys.time;\n  const newsKey = this.state.keys.news;\n  const weatherKey = this.state.keys.weather;\n\n  let res = await axios.get(apiURL.google, {\n    params: {\n      address: area,\n      key: googleKey\n    }\n  });\n  let data = res.data;\n  let name;\n  name = data.results[0].address_components[0].long_name;\n  const arealat = data.results[0].geometry.location.lat;\n  const arealing = data.results[0].geometry.location.lng;\n\n  let zoom;\n  data.results[0].types[0] === \"locality\" ? (zoom = 10) : (zoom = 5);\n\n  GoogleMapsLoader.load(function(google) {\n    map.setCenter(new google.maps.LatLng(arealat, arealing));\n    map.setZoom(zoom);\n  });\n};\n\nconst getTimes = async () => {\n  //* Time Api\n  const res = await axios.get(apiURL.time, {\n    params: {\n      format: \"json\",\n      by: \"position\",\n      lat: arealat,\n      lng: arealing,\n      key: timeKey\n    }\n  });\n\n  const data = res.data;\n  const thetime = data.formatted.split(\" \");\n  const ftime = thetime[1];\n  //Set Time\n  //this.setState({ time: ftime });\n};\n\nconst getNews = async () => {\n  //* News Api\n  try {\n    res = await axios.get(apiURL.news, {\n      params: {\n        q: name,\n        apiKey: newsKey,\n        pageSize: 6\n      }\n    });\n    let articles = res.data.articles;\n    if (articles.length < 0) {\n      alert(\"No News Found\");\n    } else {\n      articles.map(article => {\n        const date = article.publishedAt.split(\"T\");\n        return this.setState(prevState => ({\n          news: [\n            ...prevState.news,\n            {\n              title: article.title,\n              url: article.url,\n              snippet: article.description,\n              img: article.urlToImage,\n              source: article.source.name,\n              published: date[0]\n            }\n          ]\n        }));\n      });\n    }\n  } catch (er) {\n    console.log(er);\n  }\n};\n\nconst getWeather = async () => {\n  try {\n    const res = await axios(url.weather, {\n      params: {\n        q: name,\n        units: \"imperial\",\n        appid: weatherKey\n      }\n    });\n    const data = res.data;\n    const name = data.name;\n\n    const weather = data.weather[0].main;\n    const temp = Math.ceil(data.main.temp);\n    const wind = data.wind.speed;\n    //Set The State\n    //this.setState(() => ({ weather: { name, weather, temp, wind } }));\n  } catch (er) {\n    console.log(er);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}